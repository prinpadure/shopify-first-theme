<section class="image-slider">
    <h3 class="h3 text-center">
        {{section.settings.title}}
    </h3>

    <div class="carousel slide" data-ride="carousel" id="carouselExampleIndicators">
        <ol class="carousel-indicators">
            {% for block in section.blocks %}
                <li class="{% if forloop.first %} active {% endif %}" data-slide-to="{{forloop.index0}}" data-target="#carouselExampleIndicators"></li>
            {% endfor %}
        </ol>
        <div class="carousel-inner">

            {% for block in section.blocks %}
                <div class="carousel-item {% if forloop.first %} active {% endif %}">
                    <img alt="" class="d-block w-100" src="{{block.settings.image | img_url: 'master'}}">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>{{block.settings.title}}</h5>
                    </div>
                </div>
            {% endfor %}

        </div>
        <a class="carousel-control-prev" data-slide="prev" href="#carouselExampleIndicators" role="button">
            <span aria-hidden="true" class="carousel-control-prev-icon"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" data-slide="next" href="#carouselExampleIndicators" role="button">
            <span aria-hidden="true" class="carousel-control-next-icon"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

</section>

{% schema %}

{
    "name": "Image with text",
    "settings": [
        {
            "type": "header",
            "content": "Image slider"
        }, {
            "type": "text",
            "id": "title",
            "label": "Heading",
            "default": "Slider title"
        }
    ],
    "blocks": [
        {
            "type": "image",
            "name": "Image",
            "settings": [
                {
                    "id": "title",
                    "type": "text",
                    "label": "Image title"
                }, {
                    "type": "image_picker",
                    "id": "image",
                    "label": "Image"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Image slider",
            "category": "Image"
        }
    ]
}

{% endschema %}
